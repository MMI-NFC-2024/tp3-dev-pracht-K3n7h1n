---
import Layout from "../layouts/Layout.astro";
import GraphicSpecies from "../components/GraphicSpecies.astro";
---

<Layout>


  <h1 class="text-2xl mb-6">Graphiques avec slider</h1>

  <a href="/" class="rounded bg-gray-600 text-white px-4 py-2 inline-block mb-4">Retour</a>

  <nav class="mb-6 flex space-x-4 items-center">
    <label for="species-anchor-select" class="text-gray-700">Choisir une esp√®ce:</label>
    <select id="species-anchor-select" class="rounded border border-gray-300 px-3 py-2">
      <option value="adelie">Adelie</option>
      <option value="gentoo">Gentoo</option>
      <option value="chinstrap">Chinstrap</option>
    </select>
  </nav>


  <div class="slider">
    <div id="adelie" class="slide">
      <h2 class="text-xl mb-4">Adelie</h2>
      <GraphicSpecies species="Adelie" />
    </div>

    <div id="gentoo" class="slide">
      <h2 class="text-xl mb-4">Gentoo</h2>
      <GraphicSpecies species="Gentoo" />
    </div>

    <div id="chinstrap" class="slide">
      <h2 class="text-xl mb-4">Chinstrap</h2>
      <GraphicSpecies species="Chinstrap" />
    </div>
  </div>

  <script>
    document.querySelector("#species-anchor-select")?.addEventListener("change", (evt) => {
      const value = (evt.target as HTMLSelectElement).value;
      if (value) {
        location.hash = "#" + value;
      }
    });

    // Synchroniser le select avec l'ancre actuelle au chargement de la page
    document.addEventListener('DOMContentLoaded', () => {
      const currentHash = location.hash.substring(1); // Enlever le #
      const select = document.querySelector("#species-anchor-select") as HTMLSelectElement;
      if (select && currentHash) {
        select.value = currentHash;
      }
    });
  </script>
</Layout>

<style>
  .slider {
    display: flex;
    overflow-x: auto;
    scroll-behavior: smooth;
    gap: 2rem;
  }

  .slide {
    min-width: 100%;
    padding: 1rem;
  }
</style>
